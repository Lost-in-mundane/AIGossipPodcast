# LDtts - 文本转语音工具

这是一个基于 Silicon Flow TTS API 的文本转语音工具，支持多行文本处理和音频合并。

## 功能特点

- 支持多行文本输入
- 自动逐行转换为语音
- 自动合并音频片段
- 支持调整语速和音量
- 支持多种音色选择
- 支持多种音频格式输出
- **【新增】支持对谈模式，可生成主持人和嘉宾的对话形式音频**

## 安装依赖

```bash
pip install flask pydub requests
conda install ffmpeg  # 或使用其他方式安装 ffmpeg
```

## 使用方法

### 基础模式

1. 设置 API Key：
   - 在 `app.py` 中替换 `your_api_key_here` 为您的 Silicon Flow API Key
   - 或设置环境变量 `SILICON_FLOW_API_KEY`

2. 运行服务器：
```bash
python app.py
```

3. 访问网页界面：
   - 打开浏览器访问 `http://localhost:5000`
   - 在文本框中输入要转换的文本
   - 点击"转换"按钮
   - 等待处理完成后自动下载音频文件

### 对谈模式

对谈模式可以生成两个人物之间交替对话的音频，适合制作播客、访谈等内容。

1. 文本格式：
   - 使用`[主持人]`和`[嘉宾]`标记不同角色的对话
   - 例如：`[主持人]欢迎来到今天的节目。[嘉宾]谢谢邀请，很高兴来到这里。`

2. 使用方法：
   - 在对谈模式输入框中输入带有角色标记的文本
   - 为每个角色选择不同的音色
   - 点击"生成对谈"按钮
   - 系统会自动处理并生成对话音频

3. 效果特点：
   - 每个角色保持声音一致性
   - 对话之间有自然停顿
   - 音频流畅自然，类似真实对话

## 注意事项

- 请确保已安装 ffmpeg
- API Key 请妥善保管，不要泄露
- 建议使用 Chrome 或 Firefox 浏览器
- 对谈模式中，建议为不同角色选择差异明显的音色，增强区分度 